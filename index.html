<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<span class="bx-scrollGauge"></span>
	
	<div class="box-thumbnail animationSlideInThumbnail">
		<img class="img-thumbnail" src="img_thumbnailGd.jpg" alt="サムネイル" width="100%" height="">
	</div><!-- /.box-thumbnail -->
	
	<div class="box-thumbnail animationSlideInThumbnail">
		<img class="img-thumbnail" src="img_thumbnailGd.jpg" alt="サムネイル" width="100%" height="">
	</div><!-- /.box-thumbnail -->
	
	<div class="box-thumbnail animationSlideInThumbnail">
		<img class="img-thumbnail" src="img_thumbnailGd.jpg" alt="サムネイル" width="100%" height="">
	</div><!-- /.box-thumbnail -->

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script>
$(window).load(function() {
	$(window).scroll(function (){
		var scroll = $(window).scrollTop(); //スクロールの位置を取得
		var windowHeight = $(window).height(); //ウィンドウの高さを取得
		var documentHeight = $(document).height(); //ページの高さを取得
		var maxScrollVlue = documentHeight - windowHeight; //最大のスクロール値
		var valueScrollGauge = scroll / (maxScrollVlue) * 100; //スクロール値の百分率
		
		$(".bx-scrollGauge").css({width: valueScrollGauge + "%"});
		
		$(".animationSlideInThumbnail").each(function(){
			var position = $(this).offset().top; //ページの一番上から要素までの距離を取得
			var minusValue = (windowHeight - 330) / 2;
	
			if (scroll > position - minusValue){ //スクロール位置が要素の位置を過ぎたとき
				$(this).addClass('animationSlideInThumbnail-active'); //クラス「animationSlideInThumbnail-active」を与える
			} else if (position - minusValue*4.5 > scroll) {
				$(this).removeClass('animationSlideInThumbnail-active'); //クラス「animationSlideInThumbnail-active」を削除
			}
		});
	});

});
</script>
</body>
</html>